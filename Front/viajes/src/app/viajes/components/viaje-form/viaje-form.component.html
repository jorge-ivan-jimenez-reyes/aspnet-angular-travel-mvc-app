<p-toast></p-toast>
<div class="viaje-form-container">
  <h2>{{ isEditing ? 'Editar' : 'Nuevo' }} Viaje</h2>
  <form [formGroup]="viajeForm" (ngSubmit)="onSubmit()">
<div class="p-field">
  <label for="nombre">Nombre del Viaje</label>
  <input id="nombre" type="text" pInputText formControlName="nombre" required>
  <small *ngIf="viajeForm.get('nombre')?.hasError('required') && viajeForm.get('nombre')?.touched" class="p-error">El nombre es requerido</small>
</div>

<div class="p-field">
  <label for="origenId">Origen</label>
  <p-dropdown id="origenId" [options]="lugares" formControlName="origenId" optionLabel="nombre" optionValue="id" [filter]="true" filterBy="nombre" required [style]="{'background-color': '#ffffff', 'color': 'var(--color-text-primary)'}"></p-dropdown>
  <small *ngIf="viajeForm.get('origenId')?.hasError('required') && viajeForm.get('origenId')?.touched" class="p-error">El origen es requerido</small>
</div>

<div class="p-field">
  <label for="destinoId">Destino</label>
  <p-dropdown id="destinoId" [options]="lugares" formControlName="destinoId" optionLabel="nombre" optionValue="id" [filter]="true" filterBy="nombre" required [style]="{'background-color': '#ffffff', 'color': 'var(--color-text-primary)'}"></p-dropdown>
  <small *ngIf="viajeForm.get('destinoId')?.hasError('required') && viajeForm.get('destinoId')?.touched" class="p-error">El destino es requerido</small>
</div>

<div class="p-field">
  <label for="fechaInicio">Fecha de Inicio</label>
  <p-datepicker id="fechaInicio" formControlName="fechaInicio" dateFormat="dd/mm/yy" [showIcon]="true" required></p-datepicker>
  <small *ngIf="viajeForm.get('fechaInicio')?.hasError('required') && viajeForm.get('fechaInicio')?.touched" class="p-error">La fecha de inicio es requerida</small>
</div>

<div class="p-field">
  <label for="fechaFin">Fecha de Fin</label>
  <p-datepicker id="fechaFin" formControlName="fechaFin" dateFormat="dd/mm/yy" [showIcon]="true" required></p-datepicker>
  <small *ngIf="viajeForm.get('fechaFin')?.hasError('required') && viajeForm.get('fechaFin')?.touched" class="p-error">La fecha de fin es requerida</small>
</div>

<div class="p-field">
  <label for="estatusId">Estatus</label>
  <p-dropdown id="estatusId" [options]="estatusViajes" formControlName="estatusId" optionLabel="nombre" optionValue="id" required [style]="{'background-color': '#ffffff', 'color': 'var(--color-text-primary)'}"></p-dropdown>
  <small *ngIf="viajeForm.get('estatusId')?.hasError('required') && viajeForm.get('estatusId')?.touched" class="p-error">El estatus es requerido</small>
</div>

<div class="p-field">
  <label for="transporteId">Transporte</label>
  <p-dropdown id="transporteId" [options]="transportes" formControlName="transporteId" optionLabel="nombre" optionValue="id" required [style]="{'background-color': '#ffffff', 'color': 'var(--color-text-primary)'}"></p-dropdown>
  <small *ngIf="viajeForm.get('transporteId')?.hasError('required') && viajeForm.get('transporteId')?.touched" class="p-error">El transporte es requerido</small>
</div>

<div class="p-field">
  <label for="costo">Costo</label>
  <p-inputNumber id="costo" formControlName="costo" mode="currency" currency="USD" locale="en-US" [min]="0" required></p-inputNumber>
  <small *ngIf="viajeForm.get('costo')?.hasError('required') && viajeForm.get('costo')?.touched" class="p-error">El costo es requerido</small>
  <small *ngIf="viajeForm.get('costo')?.hasError('min') && viajeForm.get('costo')?.touched" class="p-error">El costo debe ser mayor o igual a 0</small>
</div>

<div class="p-field">
  <label for="descripcion">Descripci√≥n</label>
  <textarea id="descripcion" pInputTextarea formControlName="descripcion" rows="3"></textarea>
</div>

<div class="form-actions">
  <p-button type="submit" label="Guardar" [disabled]="!viajeForm.valid"></p-button>
  <p-button type="button" label="Cancelar" (onClick)="navigateToViajes()" styleClass="p-button-secondary"></p-button>
</div>
  </form>
</div>
